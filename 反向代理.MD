# 什麼是反向代理？

想像你有一家餐廳，而這家餐廳非常受歡迎，有很多客人（用戶）來吃飯（請求）。但是，廚房（後端服務器）只能處理有限的訂單（請求），如果客人直接向廚房下單，廚房可能會被淹沒，導致服務變慢甚至停擺。於是，你決定雇一位服務員（反向代理）來幫助處理這些訂單。

服務員的工作如下：

1. **接待客人**：當客人來到餐廳時，他們不會直接進入廚房，而是向服務員下單。
2. **分配訂單**：服務員會將訂單整理好，然後根據廚房的負荷情況，將訂單分配給不同的廚師（後端服務器）。
3. **傳遞菜品**：當廚師完成訂單後，服務員會將菜品交給客人，而不是讓客人直接從廚房取走。

# 反向代理的主要功能

## 負載均衡

服務員（反向代理）可以將客人的訂單（請求）均勻分配給不同的廚師（後端服務器），避免某個廚師過於忙碌，提升整體服務效率。

## 提高安全性

服務員（反向代理）可以過濾掉一些不良客人（惡意請求），保護廚房（後端服務器）免受攻擊。服務員還可以隱藏廚房的具體位置（後端服務器的 IP 地址），增加安全性。

## 緩存內容

服務員可以記住一些常見的訂單（靜態內容），當有新的客人點這些菜品時，直接提供給客人，而不用每次都去廚房下單，這樣可以加快服務速度。

## 簡化管理

只需要管理服務員（反向代理），而不需要每個客人都去關心廚房的具體運作，這樣管理起來更簡單。

# 反向代理的常見用例

## 網站加速

使用反向代理來緩存靜態內容，如圖片、CSS、JavaScript 文件，減少後端服務器的負荷，提升網站的加載速度。

## 負載均衡

在大型網站中，反向代理可以將請求分配給多個後端服務器，確保每個服務器的負荷均衡，提升網站的可靠性和性能。

## 安全防護

反向代理可以作為防火牆，過濾掉不良請求，保護後端服務器免受攻擊。

## SSL/TLS 終止

反向代理可以處理加密請求，減輕後端服務器的負擔，提升整體性能。

# 常見的反向代理軟件

- **Nginx**：高性能的 Web 服務器和反向代理，廣泛用於負載均衡和靜態內容服務。
- **Apache HTTP Server**：功能強大的 Web 服務器，支持反向代理功能。
- **HAProxy**：專注於高性能和高可用性的負載均衡和反向代理軟件。
- **Cloudflare**：提供全球分佈的反向代理和 CDN 服務，提升網站性能和安全性。
