# 概念
在超啓發式演算法中，區域最佳解(Local optimum)是此領域常遇到的一個問題，
在迭代(iteration)過程中若是陷入區域最佳解，可能導致程式卡在此解，無法跳脫找到更佳的解，
這邊以一個經典的函數最佳化問題來做說明，大家可能會比較好理解。

所謂的區域最佳解就是那些山谷，從地形圖來看就是各種顏色的圈圈，
而我們可以看出中間的位置(藍色)才有較好的解，但若演算法跳脫區域最佳解的能力不佳，
很有可能沒辦法找到中間的區域。

而模擬退火演算法則是會讓程式以一定的機率接受較差的解，以此增加跳脫出區域最佳解的機會。
接下來我們就來看看模擬退火演算法的細節吧!


# 程式流程

模擬退火演算法的運行流程與爬山演算法大致相同，有以下五步，
一開始先設定退火溫度以及迭代次數(Iteration)，再進行隨機初始化(2)，
接著會不斷的進行TED(3–5)的步驟，直到設定的迭代次數才終止。
為了方便大家了解這邊還是以 One max problem 來進行解說。

1.設定 設定迭代次數(Iteration)、初始溫度(T)和退火係數(Rₜ)。

2.初始化(Initial) 以隨機方式進行初始化，接著再評估該組解的好壞。

以長度10為例
3.Transition 將第一步產生出的解，隨機挑選一個位置進行更動。

橘色位置即為改動位置
4.Evaluation 評估適應值(Fitness value)大小。

5.Determination 將第四步評估出的適應值與先前的進行比較。
若優於或等於先前解則更新。
若無則進行退火環節，退火的進行方式是使用退火溫度(T)和適應值的差值(Δf)計算出允許機率，
接著隨機一個0–1的浮點數(r)，若該隨機值(r)≤允許機率則進行更新。

每次迭代的最後皆需進行降溫動作，會將溫度T乘上一個小於1的數值(Rₜ)，Rₜ的數值大小取決於想要的收斂速度。
![截圖 2024-08-20 下午3 01 11](https://github.com/user-attachments/assets/5870062d-3ae8-49c5-b820-9ccec49b70ed)

* r為一個0–1的隨機浮點數
* Δf為當前的適應值減去先前的適應值
* T則為退火溫度，一般初始值設為1
* 在這邊要注意因為01問題是要找出最大的適應值，所以Δf的計算是當前-先前，若為最小化的問題，Δf的計算要改為先前-當前。

做個小結論，差值越大更新機率越低，隨著迭代進行，更新的次數也會下降，也就是演算法將漸趨收斂。






